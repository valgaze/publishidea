<h2 id="speedybot">Speedybot</h2><pre><code><span class="hljs-symbol">tl:</span>dr<span class="hljs-comment">; The speedy & easy way to launch a bot</span>
</code></pre><p><a href="https://share.descript.com/view/ds3UA1kUb9z"><img src="https://i.imgur.com/VQoXfHn.gif" alt="sb"></a></p><hr><p><strong>Note:</strong> To jump right in, go here: <strong><a href="https://github.com/valgaze/speedybot/blob/master/quickstart.md">quickstart.md</a></strong></p><h2 id="what-s-speedybot-">What&#39;s Speedybot?</h2><p>Speedybot is a tool to take you from zero to a user-valuable bot as quickly as possible w/ a <strong>buttery-smooth developer experience.</strong> Think of it as a <em>&quot;helper&quot;</em> library that extends the marvelous <strong><a href="https://github.com/WebexSamples/webex-node-bot-framework">Node WebEx Bot Framework</a></strong> and makes it <strong>fast and easy</strong> for you to create sophisticated conversation agents. In short, Speedybot lets you focus on the stuff that actually matters-- content and powerful integrations.</p><h2 id="features">Features</h2><p>🌟 Collect + validate user input-- and reprompt if validation fails (more info <strong><a href="#prompt">here</a></strong>)</p><p>🌟 &quot;SpeedyCard&quot; to easily create rich interactive <strong><a href="https://developer.webex.com/docs/api/guides/cards">&quot;Adaptive Cards&quot;</a></strong> (more info <strong><a href="#speedycard">here</a></strong>)</p><p>🌟 Access encrypted file uploads + attachments (more info <strong><a href="#upload-a-file">here</a></strong>)</p><p>🌟 Integrate with 3rd-party services</p><p>🌟 Response variation + templating</p><p>🌟 Automatic &quot;help&quot; generation</p><p>🌟 Persist data between conversation runs (&quot;globally&quot; and scoped to an individual user)</p><p>🌟 Zero configuration to get up and running (defaults to websockets for webhooks-- no nGrok or tunneling)</p><p>🌟 Lots of quality-of-life and convenience features</p><p>🌟 Full sample applications-- just add your token and boot up (more info <strong><a href="#sample-applications">here</a></strong>)</p><h2 id="how-to-use">How to use</h2><p>The best way to see speedybot in action is to jump right in, see here for batteries-included starter: <a href="https://github.com/valgaze/speedybot-starter">https://github.com/valgaze/speedybot-starter</a></p><h2 id="video-instructions">Video instructions</h2><ul><li><p>101: <a href="https://share.descript.com/view/ds3UA1kUb9z">https://share.descript.com/view/ds3UA1kUb9z</a></p></li><li><p>Webhooks/3rd-party integrations: <a href="https://share.descript.com/view/bnyupJvNJcx">https://share.descript.com/view/bnyupJvNJcx</a></p></li></ul><p>You can also use the <strong><a href="#cli">CLI Tool &quot;speedyhelper&quot;</a></strong></p><pre><code class="lang-sh">npx speedyhelper <span class="hljs-built_in">setup</span>
</code></pre><h2 id="special-keywords">Special keywords</h2><p>There are a few &quot;special&quot; keywords you can use to &quot;listen&quot; to special events:</p><ul><li><p><em>&lt;@submit&gt;</em>: Handler that will run anytime data is submitted from an <strong><a href="https://developer.webex.com/docs/api/guides/cards">Adaptive Card</a></strong></p></li><li><p><em>&lt;@nomatch&gt;</em>: Handler that will run if there are no handlers which will match the input</p></li><li><p><em>&lt;@catchall&gt;</em>: Handler that will run on <strong>every</strong> message received (in a real agent you probably will not write hard-coded handlers and instead use this handler to dispatch user messages to natural language processing services like <strong><a href="https://cloud.google.com/dialogflow">DialogFlow</a></strong> or <strong><a href="https://aws.amazon.com/lex/">Lex</a></strong>)</p></li><li><p><em>&lt;@fileupload&gt;</em>: Handler that will fire on <strong>every</strong> file-upload or file-attachment sent to the bot</p></li><li><p><em>&lt;@help&gt;</em>: There is a built-in help handler by default (it will print out all of your custom handler&#39;s helpTexts from settings/handlers.ts), but use this keyword if you want to roll your own help</p></li><li><p><em>&lt;@spawn&gt;</em>: Gets called whenever a user adds your bot to a new space-- there are some caveats, however, to its behavior, so if you think you&#39;ll need this, see <strong><a href="https://github.com/WebexSamples/webex-node-bot-framework/blob/master/README.md#spawn">here</a></strong>, <strong><a href="https://developer.webex.com/blog/a-deeper-dive-into-the-webex-bot-framework-for-node-js">here</a></strong> or the <strong><a href="https://github.com/valgaze/speedybot/blob/master/docs/resources.md">resources page</a></strong> for all the details</p></li><li><p><em>&lt;@despawn&gt;</em>: Opposite of spawn, see <strong><a href="https://github.com/WebexSamples/webex-node-bot-framework/#despawn">here</a></strong> for details</p></li></ul><h2 id="cli">CLI</h2><table><thead><tr><th style="text-align:center"><strong>Command</strong></th><th style="text-align:left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align:center"><code>npx speedyhelper setup</code></td><td style="text-align:left">scaffold a starter speedybot project (requires git)</td></tr><tr><td style="text-align:center"><code>npx speedyhelper setup -t aaa-bbb-ccc-ddd</code></td><td style="text-align:left">scaffold a speedybot project using the value after setup as the token</td></tr><tr><td style="text-align:center"><code>npx speedyhelper help</code></td><td style="text-align:left">show basic CLI help info</td></tr><tr><td style="text-align:center"><code>npx speedyhelper web -q</code></td><td style="text-align:left">Kick off a web-based chat interface (use -q flag to interactively add token + roomId)</td></tr><tr><td style="text-align:center"><code>npx speedyhelper sendmsg</code></td><td style="text-align:left">Send a message to a room using bot access token</td></tr><tr><td style="text-align:center"><code>npx speedyhelper tunnel -p 8000</code></td><td style="text-align:left">Start an nGrok tunnel, defaults to port 8000</td></tr></tbody></table><details><summary>(Global install using npm/yarn)</summary>Rather than using <strong><a href="https://docs.npmjs.com/cli/v7/commands/npx">npx</a></strong>, you can perform a global install which install speedyhelper to your path<code>shnpm i -g speedyhelperyarn global add speedyhelper</code>Make sure all worked well by opening a new terminal and entering:<code>shspeedyhelper help</code></details><h1 id="some-demos">Some Demos</h1><h2 id="prompt">Prompt</h2><p>ex. When the user says &#39;prompt&#39;, the agent will continue asking the user for a number whose digits sum to 6 (can quit by saying <code>$exit</code>)</p><p><img src="https://raw.githubusercontent.com/valgaze/speedybot/master/docs/assets/prompt_demo.gif" alt="sb"></p><pre><code class="lang-ts"><span class="hljs-keyword">import</span> { $ } <span class="hljs-keyword">from</span> <span class="hljs-string">'speedybot'</span>

<span class="hljs-comment">// $(bot).prompt has 3 components</span>
<span class="hljs-comment">// - (1) retry (list of message to provide feedback or encourage the user to modify their)</span>
<span class="hljs-comment">// - (2) success (handler when validation passes, the final parameter is the value)</span>
<span class="hljs-comment">// - (3) validate (function that accepts the user-provided value as a parameter)</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
    {
        <span class="hljs-attr">keyword</span>: <span class="hljs-string">'prompt'</span>,
        <span class="hljs-keyword">async</span> handler(bot) {

            <span class="hljs-keyword">const</span> $bot = $(bot)
            <span class="hljs-keyword">await</span> bot.say(<span class="hljs-string">'Sending you a prompt...'</span>)
            $bot.prompt(<span class="hljs-string">'Enter a number whose digits that add up to 6 (ex 51, 60, 33, 501, etc)'</span>, {
                <span class="hljs-attr">retry</span>: [<span class="hljs-string">`Sorry, doesn't add up to 6`</span>, 
                        <span class="hljs-string">`Whoops that value doesn't work try again`</span>, 
                        <span class="hljs-string">`That value doesn't work`</span>, 
                        <span class="hljs-string">`Whoops, that input is not valid. You can type '$exit' to abandon this`</span>
                        ],
                <span class="hljs-keyword">async</span> success(bot, trigger, answer) {
                    bot.say(<span class="hljs-string">'You did it!!! Good job! <3 <3'</span>)
                    bot.say(answer)

                    <span class="hljs-comment">// Ex. Submit data to a 3rd-party service/integration</span>
                    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> $bot.post(<span class="hljs-string">'https://jsonplaceholder.typicode.com/posts'</span>, { <span class="hljs-attr">data</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'my special value that adds to 6'</span>, <span class="hljs-attr">userValue</span>: answer } })
                    $(bot).sendSnippet(res.data, <span class="hljs-string">'Posted response to https://jsonplaceholder.typicode.com/posts'</span>)
                },
                validate(val=<span class="hljs-number">0</span>) {
                    <span class="hljs-comment">// Make sure digits add to 6</span>
                    <span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">String</span>(val).split(<span class="hljs-string">''</span>)
                                        .map(<span class="hljs-built_in">Number</span>)
                                        .reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prev, next</span>) </span>{
                                            <span class="hljs-keyword">return</span> prev + next;
                                        }, <span class="hljs-number">0</span>)
                    <span class="hljs-keyword">if</span> (sum === <span class="hljs-number">6</span>) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
                    }
                }
            })
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'A handler which will ask the user for a number whose digits sum to 6'</span>
    }
]
</code></pre><h2 id="speedycard">SpeedyCard</h2><p>ex. Tell the bot &quot;sendcard&quot; to get a card, type into the card &amp; tap submit, catch submission using <em>&lt;@submit&gt;</em> and echo back to user</p><p><img src="https://raw.githubusercontent.com/valgaze/speedybot/master/docs/assets/send_card.gif" alt="sb"></p><pre><code class="lang-ts"><span class="hljs-keyword">import</span> { SpeedyCard } <span class="hljs-keyword">from</span> <span class="hljs-string">'speedybot'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [{
        <span class="hljs-attr">keyword</span>: <span class="hljs-string">'<@submit>'</span>,
        handler(bot, trigger) {
            bot.say(<span class="hljs-string">`Submission received! You sent us <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(trigger.attachmentAction.inputs)}</span>`</span>)
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'Special handler that fires when data is submitted'</span>
    },
    {
        <span class="hljs-attr">keyword</span>: <span class="hljs-string">'sendcard'</span>,
        handler(bot, trigger) {
            bot.say(<span class="hljs-string">'One card on the way...'</span>)
            <span class="hljs-comment">// Adapative Card: https://developer.webex.com/docs/api/guides/cards</span>
            <span class="hljs-keyword">const</span> myCard = <span class="hljs-keyword">new</span> SpeedyCard().setTitle(<span class="hljs-string">'System is 👍'</span>)
                                     .setSubtitle(<span class="hljs-string">'If you see this card, everything is working'</span>)
                                     .setImage(<span class="hljs-string">'https://raw.githubusercontent.com/valgaze/speedybot/master/docs/assets/chocolate_chip_cookies.png'</span>)
                                     .setInput(<span class="hljs-string">`What's on your mind?`</span>)
                                     .setUrl(<span class="hljs-string">'https://www.youtube.com/watch?v=3GwjfUFyY6M'</span>, <span class="hljs-string">'Take a moment to celebrate'</span>)
                                     .setTable([[<span class="hljs-string">`Bot's Date`</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toDateString()], [<span class="hljs-string">"Bot's Uptime"</span>, <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">String</span>(process.uptime())}</span>s`</span>]])
                                     .setData({<span class="hljs-attr">mySpecialData</span>: {<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>}})
            bot.sendCard(myCard.render(), <span class="hljs-string">'Your client does not currently support Adaptive Cards'</span>)
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'Sends an Adaptive Card with an input field to the user'</span>
    }
]
</code></pre><h2 id="suggestion-chips">Suggestion Chips</h2><p><img src="https://raw.githubusercontent.com/valgaze/speedybot/master/docs/assets/chip_tap_persist.gif" alt="sb"></p><p>Suggestion &quot;chips&quot; are a shortcut to trigger other handlers as if the user uttered it themselves-- useful for quizzing or providing suggestions of what to say next</p><p>ex. When the user enters the text &#39;chips&#39; or &#39;chip&#39;, they can select an item and trigger another handler</p><pre><code class="lang-ts"><span class="hljs-keyword">import</span> { $, BotInst, Trigger} <span class="hljs-keyword">from</span> <span class="hljs-string">'speedybot'</span>

<span class="hljs-comment">// $(bot).prompt has 3 components</span>
<span class="hljs-comment">// - (1) retry (list of message to provide feedback or encourage the user to modify their)</span>
<span class="hljs-comment">// - (2) success (handler when validation passes, the final parameter is the value)</span>
<span class="hljs-comment">// - (3) validate (function that accepts the user-provided value as a parameter)</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
    {
        <span class="hljs-attr">keyword</span>: [<span class="hljs-string">'chips'</span>, <span class="hljs-string">'chip'</span>],
        <span class="hljs-keyword">async</span> handler(bot) {
            <span class="hljs-keyword">const</span> $bot = $(bot)
            <span class="hljs-keyword">await</span> bot.say(<span class="hljs-string">'Here are some chips...'</span>)

            <span class="hljs-keyword">const</span> specialChip = {
                <span class="hljs-attr">label</span>: <span class="hljs-string">'my special chip'</span>, 
                handler(bot: BotInst) {
                    bot.say(<span class="hljs-string">'You tapped the special chip!'</span>)
                }
            }
            $bot.sendChips([<span class="hljs-string">'hey'</span>, specialChip, <span class="hljs-string">'ping'</span>, { <span class="hljs-attr">label</span>:<span class="hljs-string">`Say the phrase 'pong'`</span>, <span class="hljs-attr">keyword</span>: <span class="hljs-string">'pong'</span> }], <span class="hljs-string">'Tap an item below'</span>)
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'Show suggestion chips'</span>
    },
        {
        <span class="hljs-attr">keyword</span>: [<span class="hljs-string">'hi'</span>, <span class="hljs-string">'hey'</span>, <span class="hljs-string">'yo'</span>, <span class="hljs-string">'whatsup'</span>],
        handler(bot, trigger) {
            <span class="hljs-keyword">const</span> reply = <span class="hljs-string">`Heya how's it going <span class="hljs-subst">${trigger.person.displayName}</span>?`</span>
            bot.say(reply)
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'Basic greeting handler'</span>
    },
    {
        <span class="hljs-attr">keyword</span>: [<span class="hljs-string">'ping'</span>, <span class="hljs-string">'pong'</span>],
        handler(bot, trigger) {
            <span class="hljs-keyword">const</span> normalized = trigger.text.toLowerCase()
            <span class="hljs-keyword">if</span> (normalized === <span class="hljs-string">'ping'</span>) {
                bot.say(<span class="hljs-string">'pong'</span>)
            } <span class="hljs-keyword">else</span> {
                bot.say(<span class="hljs-string">'ping'</span>)
            }
        },
        <span class="hljs-attr">helpText</span>: <span class="hljs-string">'The ping/pong handler'</span>
    }
]
</code></pre><h2 id="upload-a-file">Upload a file</h2><p>ex. When the user uploads a spreadsheet file (*.xlsx), the agent will take the file-data, transform it into an html file, display the HTML file and generate a downloadable file for the user</p><p><img src="https://raw.githubusercontent.com/valgaze/speedybot-superpowers/master/docs/assets/speedybot_xlsx.gif" alt="sb"></p><pre><code class="lang-ts">
<span class="hljs-regexp">//</span> See <@fileupload> handler here: https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/valgaze/</span>speedybot-superpowers<span class="hljs-regexp">/blob/m</span>aster<span class="hljs-regexp">/settings/</span>handlers.ts<span class="hljs-comment">#L77</span>
</code></pre><h2 id="adding-a-new-chat-handler">Adding a new chat handler</h2><p>With Speedybot, all you need to worry about is the <strong><a href="https://github.com/valgaze/speedybot-starter/tree/master/settings">settings directory</a></strong> directory with two files:</p><p><strong>1. config.json:</strong> This is where you&#39;ll put your bot access token and the &quot;tunnel&quot; (or webhost) where your bot is reachable from webhooks</p><p><strong>2. handlers.ts:</strong> A list of &quot;handlers&quot; that respond to keywords</p><p>Example handler:</p><p>A handler has 3 components:</p><ul><li><p>Keyword: a string, regex, or list of strings or regex&#39;s that will match against the user&#39;s input (or a <strong><a href="#special-keywords">Special Keyword</a></strong>)</p></li><li><p>Handler: A function that takes a <code>bot</code> and <code>trigger</code></p></li><li><p>helpText: A decription of what the handler does (used by the default &lt;@help&gt; handler to tell users what your bot can do)</p></li></ul><pre><code class="lang-js">{
    <span class="hljs-symbol">keyword:</span> [<span class="hljs-string">'hello'</span>, <span class="hljs-string">'hey'</span>, <span class="hljs-string">'yo'</span>, <span class="hljs-string">'watsup'</span>, <span class="hljs-string">'hola'</span>],
    handler(bot, trigger) {
        <span class="hljs-regexp">//</span> <span class="hljs-symbol">bot:</span> <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/</span>WebexSamples/webex-node-bot-framework<span class="hljs-comment">#bot</span>
        /<span class="hljs-regexp">/ trigger: https:/</span><span class="hljs-regexp">/github.com/</span>WebexSamples/webex-node-bot-framework<span class="hljs-comment">#trigger</span>
        const reply = <span class="hljs-string">`Heya how's it going ${trigger.person.displayName}?`</span>
        bot.say(reply)
    },
    <span class="hljs-symbol">helpText:</span> <span class="hljs-string">`**hello** A handler that greets the user`</span>
}
</code></pre><h2 id="-uperpowers">$uperpowers</h2><p>Speedybot can also give your bot $uperpowers-- <strong><a href="https://github.com/valgaze/speedybot/blob/master/docs/superpowers.md">see here for details on $uperpowers</a></strong></p><details><summary>$uperpowers sample</summary><code>ts import{$}from &#39;speedybot&#39;export default{keyword: [&#39;$&#39;, &#39;$uperpowers&#39;, &#39;$uperpower&#39;, &#39;$superpower&#39;], async handler(bot, trigger){// ## 0) Wrap the bot object in $ to give it $uperpowers, ex $(bot) const $bot=$(bot) // &quot;counters&quot; (scoped to user) const counter=$bot.get const counterRef=await $bot.getCounter(&#39;myCounter&#39;) // Defaults to 0 if does not exist $bot.log(&#39;current counter value&#39;, counterRef) await $bot.increaseCounter(&#39;myCounter&#39;) // 1 const counterMsg=`This handler has been run ${counterRef}times` bot.say(counterMsg) // Provide some space await $bot.clearScreen() // ## 1) Contexts: set, remove, and list // Contexts persist between &quot;turns&quot; of chat // Note: contexts can optionally store data // If you just need to stash information attached to a user, see &quot;$(bot).saveData&quot; below await $bot.saveContext(&#39;mycontext1&#39;) await $bot.saveContext(&#39;mycontext2&#39;,{data: new Date().toISOString()}) const mycontext2=await $bot.getContext(&#39;mycontext2&#39;) $bot.log(&#39;# mycontext2&#39;, mycontext2) //{data: &#39;2021-11-05T05:03:58.755Z&#39;}// Contexts: list active contexts const allContexts=await $bot.getAllContexts() // [&#39;mycontext1&#39;, &#39;mycontext2&#39;] bot.say(`Contexts: ${JSON.stringify(allContexts)}`) // Contexts: check if context is active const isActive=await $bot.contextActive(&#39;mycontext1&#39;) $bot.log(`mycontext1 is active, ${isActive}`) // &#39;mycontext1 is active, true&#39; // Contexts: remove context await $bot.deleteContext(&#39;mycontext1&#39;) const isStillActive=await $bot.contextActive(&#39;mycontext1&#39;) $bot.log(`mycontext1 is active, ${isStillActive}`) // &#39;mycontext1 is active, false&#39; // ## 2) Helpers to add variation and rich content // sendRandom: Sends a random string from a list $bot.sendRandom([&#39;Hey!&#39;,&#39;Hello!!&#39;,&#39;Hiya!&#39;]) // sendTemplate: like sendRandom but replace $[variable_name] with a value const utterances=[&#39;Hey how are you $[name]?&#39;, `$[name]! How&#39;s it going?`, &#39;$[name]&#39;] const template={name: &#39;Joey&#39;}$bot.sendTemplate(utterances, template) // sendURL: Sends a URL in a clickable card $bot.sendURL(&#39;https://www.youtube.com/watch?v=3GwjfUFyY6M&#39;, &#39;Go Celebrate&#39;) // snippet: Generate a snippet that will render data in markdown-friendly format const JSONData={a: 1, b:2, c:3, d:4}$bot.sendSnippet(JSONData, `**Here&#39;s some JSON, you&#39;ll love it**`) // send to room // Snippet to a specifc room or specific email // const snippet=$bot.snippet(JSONData) // $bot.send({markdown: snippet, roomId:trigger.message.roomId, text: &#39;Your client does not render markdown :(&#39;}) // send to a specific room // $bot.send({markdown: snippet, toPersonEmail:&#39;joe@joe.com&#39;, text: &#39;Your client does not render markdown :(&#39;}) // send to a specific person // ## 3) Conversation &quot;chips&quot; // Set all chips to disappear after tap (defaults to false) $bot.setChipsConfig({disappearOnTap: true}) // Send chip with custom handler const customChip={label: &#39;custom chip&#39;, handler(bot:BotInst, trigger: Trigger){$bot.sendSnippet(trigger, `**The &#39;custom chip&#39; was tapped** `) $bot.$trigger(&#39;chips&#39;, trigger) // re-render chips}}// Add optional title to chips $bot.sendChips([&#39;hey&#39;, &#39;ping&#39;, &#39;pong&#39;, &#39;$&#39;,{label:`Trigger the &#39;hey&#39; handler`, keyword: &#39;hey&#39;}, customChip], &#39;These chips will disappear on tap&#39;) // ## 4) Save data between conversation &quot;runs&quot; (scoped to user, async) interface SpecialUserData{specialValue: string; userId: String;}const specialData:SpecialUserData={specialValue: Math.random().toString(36).slice(2), userId: trigger.personId,}// Save the data await $bot.saveData&lt;SpecialUserData&gt;(&#39;userData&#39;, specialData) // Retrieve the data (returns null if does not exist) const dataRes=await $bot.getData&lt;SpecialUserData&gt;(&#39;userData&#39;) if (dataRes){// These are now &quot;typed&quot; const theValue=dataRes.specialValue const id=dataRes.userId $bot.log(`Your specal value was ${theValue}and your id is ${id}`) // destroy data $bot.deleteData(&#39;userData&#39;)}// ## 4a) Stash &quot;global&quot; values between runs (don&#39;t use a lot, short snippets like counters or other data) // Note: not persistent storage if using default storage provider const globalVal=$bot.globalGet(&#39;myKey&#39;) if (!globalVal){$bot.globalSave(&#39;myKey&#39;,{dateAdded: new Date().toISOString()})}// ## 5) Integrate with 3rd-parties: $bot.get, $bot.post, etc // ex. get external data // Opts are axios request config (for bearer tokens, proxies, unique config, etc) const res=await $bot.get(&#39;https://randomuser.me/api/&#39;) bot.say({markdown: $bot.snippet(res.data)}) // ## 6) Files &amp; attachments // Send a local file // Provide a path/filename, will be attached to message // $bot.sendFile(__dirname, &#39;assets&#39;, &#39;speedybot.pdf&#39;) // Send a publically accessible URL file // Supported filetypes: [&#39;doc&#39;, &#39;docx&#39; , &#39;xls&#39;, &#39;xlsx&#39;, &#39;ppt&#39;, &#39;pptx&#39;, &#39;pdf&#39;, &#39;jpg&#39;, &#39;jpeg&#39;, &#39;bmp&#39;, &#39;gif&#39;, &#39;png&#39;] $bot.sendDataFromUrl(&#39;https://drive.google.com/uc?export=download&amp;id=1VI4I4pYVVdMnB6YOQuSejVcrSwN0cotd&#39;) // // experimental (fileystem write): send arbitrary JSON back as a file // $bot.sendDataAsFile(JSON.stringify({a:1,b:2}), &#39;.json&#39;) // For an example involving parse&#39;able spreadsheets (.xlsx), see here: https://github.com/valgaze/speedybot-superpowers}, helpText: &#39;A demo of $uperpowers&#39;}</code></details><h2 id="sample-applications">Sample Applications</h2><table><thead><tr><th>Item</th><th>Remarks</th><th>Video</th></tr></thead><tbody><tr><td><strong><a href="https://github.com/valgaze/speedybot-starter">Speedybot-starter</a></strong></td><td>&quot;Batteries-included&quot; starter application with few external dependencies-- use this to start</td><td><strong><a href="https://share.descript.com/view/ds3UA1kUb9z">https://share.descript.com/view/ds3UA1kUb9z</a></strong></td></tr><tr><td><strong><a href="https://github.com/valgaze/speedybot-superpowers">Speedybot-$uperpowers</a></strong></td><td>Application using $uperpowers with suggestion &quot;chips&quot;, response variation, and capability to upload a spreadsheet *.xlsx and convert to an htm</td><td><strong><a href="https://share.descript.com/view/sBU3pk5L8Js">https://share.descript.com/view/sBU3pk5L8Js</a></strong></td></tr><tr><td><strong><a href="https://github.com/valgaze/speedybot-serverless-experiment">Speedybot-serverless</a></strong></td><td>[EXPERIMENTAL/REDUCED FUNCTIONALITY] Proof-of-concept for stateless/serverless chat agent (ex lambda function)</td><td>//</td></tr></tbody></table><h2 id="credits-attribution">Credits/Attribution</h2><ul><li><p>Cookie image courtesy of Daniel Lopez: <a href="https://unsplash.com/photos/aT7CE57EZL8">https://unsplash.com/photos/aT7CE57EZL8</a> &amp; <a href="https://unsplash.com/@soydanielwolf">https://unsplash.com/@soydanielwolf</a></p></li><li><p>Robot icon (not included in this repo) created by Freepik - Flaticon, <a href="https://www.flaticon.com/free-icons/robot">https://www.flaticon.com/free-icons/robot</a></p></li></ul>